{"version":3,"file":"static/js/310.f5e96e94.chunk.js","mappings":"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","sources":["webpack://psbeauty/./src/components/Layout/Backdrop/Backdrop.module.scss?d14b","components/Layout/Backdrop/index.tsx","graphql/queries/getPopularKeywords.graphql.generated.ts","pages/Search/Delete.svg","webpack://psbeauty/./src/pages/Search/Search.module.scss?3b20","pages/Search/index.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Backdrop_wrapper__LB3Yk\"};","import styled from \"./Backdrop.module.scss\"\nimport cx from \"classnames\"\n\nexport type BackdropProps = ReactProps.Component\n\nconst Backdrop = ({ style = {}, ...props }: BackdropProps) => {\n  return (\n    <div className={cx(styled.wrapper, props.className)} style={{ ...style }}>\n      {props.children}\n    </div>\n  )\n}\n\nexport default Backdrop\n","import * as Types from \"../../types/schema\"\n\nimport { gql } from \"@apollo/client\"\nimport * as Apollo from \"@apollo/client\"\nconst defaultOptions = {} as const\nexport type GetPopularKeywordsQueryVariables = Types.Exact<{ [key: string]: never }>\n\nexport type GetPopularKeywordsQuery = {\n  popularKeywords?: { __typename: \"PopularKeywords\"; keywords?: Array<string | null> | null } | null\n}\n\nexport const GetPopularKeywordsDocument = gql`\n  query getPopularKeywords {\n    popularKeywords {\n      keywords\n    }\n  }\n`\n\n/**\n * __useGetPopularKeywordsQuery__\n *\n * To run a query within a React component, call `useGetPopularKeywordsQuery` and pass it any options that fit your needs.\n * When your component renders, `useGetPopularKeywordsQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useGetPopularKeywordsQuery({\n *   variables: {\n *   },\n * });\n */\nexport function useGetPopularKeywordsQuery(\n  baseOptions?: Apollo.QueryHookOptions<GetPopularKeywordsQuery, GetPopularKeywordsQueryVariables>,\n) {\n  const options = { ...defaultOptions, ...baseOptions }\n  return Apollo.useQuery<GetPopularKeywordsQuery, GetPopularKeywordsQueryVariables>(\n    GetPopularKeywordsDocument,\n    options,\n  )\n}\nexport function useGetPopularKeywordsLazyQuery(\n  baseOptions?: Apollo.LazyQueryHookOptions<\n    GetPopularKeywordsQuery,\n    GetPopularKeywordsQueryVariables\n  >,\n) {\n  const options = { ...defaultOptions, ...baseOptions }\n  return Apollo.useLazyQuery<GetPopularKeywordsQuery, GetPopularKeywordsQueryVariables>(\n    GetPopularKeywordsDocument,\n    options,\n  )\n}\nexport type GetPopularKeywordsQueryHookResult = ReturnType<typeof useGetPopularKeywordsQuery>\nexport type GetPopularKeywordsLazyQueryHookResult = ReturnType<\n  typeof useGetPopularKeywordsLazyQuery\n>\nexport type GetPopularKeywordsQueryResult = Apollo.QueryResult<\n  GetPopularKeywordsQuery,\n  GetPopularKeywordsQueryVariables\n>\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgDelete(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 14,\n    height: 16,\n    viewBox: \"0 0 14 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M5.5 1H8.5C8.63261 1 8.75979 1.05268 8.85355 1.14645C8.94732 1.24021 9 1.36739 9 1.5V2.5H5V1.5C5 1.36739 5.05268 1.24021 5.14645 1.14645C5.24021 1.05268 5.36739 1 5.5 1ZM10 2.5V1.5C10 1.10218 9.84196 0.720644 9.56066 0.43934C9.27936 0.158035 8.89782 0 8.5 0L5.5 0C5.10218 0 4.72064 0.158035 4.43934 0.43934C4.15804 0.720644 4 1.10218 4 1.5V2.5H1.506C1.50267 2.49997 1.49933 2.49997 1.496 2.5H0.5C0.367392 2.5 0.240215 2.55268 0.146447 2.64645C0.0526784 2.74021 0 2.86739 0 3C0 3.13261 0.0526784 3.25979 0.146447 3.35355C0.240215 3.44732 0.367392 3.5 0.5 3.5H1.038L1.891 14.16C1.93122 14.6612 2.15875 15.1289 2.52827 15.4698C2.8978 15.8108 3.38219 16.0001 3.885 16H10.115C10.6178 16.0001 11.1022 15.8108 11.4717 15.4698C11.8412 15.1289 12.0688 14.6612 12.109 14.16L12.962 3.5H13.5C13.6326 3.5 13.7598 3.44732 13.8536 3.35355C13.9473 3.25979 14 3.13261 14 3C14 2.86739 13.9473 2.74021 13.8536 2.64645C13.7598 2.55268 13.6326 2.5 13.5 2.5H12.505C12.5017 2.49997 12.4983 2.49997 12.495 2.5H10ZM11.958 3.5L11.112 14.08C11.0919 14.3306 10.9781 14.5644 10.7934 14.7349C10.6086 14.9054 10.3664 15.0001 10.115 15H3.885C3.6336 15.0001 3.3914 14.9054 3.20664 14.7349C3.02188 14.5644 2.90811 14.3306 2.888 14.08L2.042 3.5H11.958ZM4.471 4.5C4.60333 4.49235 4.73329 4.53756 4.8323 4.6257C4.93131 4.71383 4.99127 4.83767 4.999 4.97L5.499 13.47C5.50425 13.6008 5.45802 13.7284 5.37022 13.8255C5.28242 13.9225 5.16006 13.9813 5.02941 13.9892C4.89876 13.997 4.77024 13.9533 4.67144 13.8675C4.57265 13.7816 4.51145 13.6605 4.501 13.53L4 5.03C3.99594 4.96431 4.00489 4.89847 4.02633 4.83625C4.04777 4.77403 4.08129 4.71665 4.12495 4.66741C4.16862 4.61817 4.22158 4.57804 4.28079 4.54931C4.34 4.52058 4.4043 4.50382 4.47 4.5H4.471ZM9.529 4.5C9.5947 4.50382 9.659 4.52058 9.71821 4.54931C9.77742 4.57804 9.83038 4.61817 9.87405 4.66741C9.91771 4.71665 9.95123 4.77403 9.97267 4.83625C9.99411 4.89847 10.0031 4.96431 9.999 5.03L9.499 13.53C9.49633 13.5964 9.48044 13.6617 9.45224 13.7219C9.42405 13.7821 9.38413 13.8361 9.33481 13.8807C9.28549 13.9254 9.22777 13.9597 9.16503 13.9817C9.10228 14.0037 9.03578 14.013 8.9694 14.009C8.90302 14.005 8.8381 13.9878 8.77845 13.9585C8.7188 13.9291 8.6656 13.8881 8.62199 13.8379C8.57837 13.7877 8.5452 13.7293 8.52443 13.6661C8.50365 13.603 8.49569 13.5363 8.501 13.47L9.001 4.97C9.00873 4.83767 9.06869 4.71383 9.1677 4.6257C9.26671 4.53756 9.39667 4.49235 9.529 4.5ZM7 4.5C7.13261 4.5 7.25979 4.55268 7.35355 4.64645C7.44732 4.74021 7.5 4.86739 7.5 5V13.5C7.5 13.6326 7.44732 13.7598 7.35355 13.8536C7.25979 13.9473 7.13261 14 7 14C6.86739 14 6.74021 13.9473 6.64645 13.8536C6.55268 13.7598 6.5 13.6326 6.5 13.5V5C6.5 4.86739 6.55268 4.74021 6.64645 4.64645C6.74021 4.55268 6.86739 4.5 7 4.5Z\",\n    fill: \"#AAB0B2\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDelete);\nexport default __webpack_public_path__ + \"static/media/Delete.0d8ff447c5206591cc002149dfd794f4.svg\";\nexport { ForwardRef as ReactComponent };","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Search_wrapper__Mx5Xg\",\"filters\":\"Search_filters__Q1UrN\",\"active\":\"Search_active__Ogr+z\",\"title\":\"Search_title__eVnY3\",\"text\":\"Search_text__HMQ9r\",\"search\":\"Search_search__dPnLp\"};","import { useState } from \"react\"\nimport styled from \"./Search.module.scss\"\nimport Backdrop from \"components/Layout/Backdrop\"\nimport { useGo } from \"components/Router\"\nimport { ReactComponent as Delete } from \"./Delete.svg\"\nimport Icon from \"components/Icon\"\nimport { useGetPopularKeywordsQuery } from \"graphql/queries/getPopularKeywords.graphql.generated\"\n\nconst STORAGE_KEY = \"search-history\"\nconst getHistories = (): string[] => {\n  const data = localStorage.getItem(STORAGE_KEY)\n  try {\n    if (data) {\n      const result = JSON.parse(data)\n      return result.length > 0 ? result : []\n    }\n  } catch {\n    /* 解析失敗 */\n  }\n  return []\n}\n\nconst saveHistories = (list: string[]) => {\n  const result = list.filter((value, index, arr) => arr.indexOf(value) === index).slice(0, 10)\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(result))\n  return result\n}\n\nconst Search = () => {\n  const go = useGo()\n  const [list, setList] = useState(getHistories())\n  const getPopularKeywords = useGetPopularKeywordsQuery()\n\n  return (\n    <Backdrop className={styled.wrapper}>\n      <div className={styled.filters}>\n        {getPopularKeywords?.data?.popularKeywords?.keywords?.map((el, idx) => (\n          <div\n            key={`keywords-${idx}`}\n            onClick={() => {\n              go.toSearchListWithQuery(el || \"\")\n            }}>\n            {el}\n          </div>\n        ))}\n      </div>\n\n      <div className={styled.title}>\n        <span>歷史搜尋</span>\n        {list.length > 0 && (\n          <Delete className={styled.delete} onClick={() => setList(saveHistories([]))} />\n        )}\n      </div>\n\n      {list.map((text, i) => {\n        return (\n          <div key={`text-${i}`} className={styled.text} onClick={() => go.toSearchList(text)}>\n            <Icon name=\"search\" className={styled.search} />\n            {text}\n          </div>\n        )\n      })}\n    </Backdrop>\n  )\n}\nexport default Search\n"],"names":["style","props","className","cx","styled","children","defaultOptions","GetPopularKeywordsDocument","gql","useGetPopularKeywordsQuery","baseOptions","options","Apollo","_path","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgDelete","_ref","svgRef","title","titleId","width","height","viewBox","fill","xmlns","ref","id","d","ForwardRef","STORAGE_KEY","go","useGo","useState","data","localStorage","getItem","result","JSON","parse","getHistories","list","setList","getPopularKeywords","Backdrop","popularKeywords","keywords","map","el","idx","onClick","toSearchListWithQuery","filter","value","index","arr","slice","setItem","stringify","saveHistories","text","toSearchList","Icon","name"],"sourceRoot":""}