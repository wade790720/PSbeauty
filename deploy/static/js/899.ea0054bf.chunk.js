"use strict";(self.webpackChunkpsbeauty=self.webpackChunkpsbeauty||[]).push([[899],{2313:function(n,e,t){t.d(e,{Z:function(){return d}});var o=t(1413),r=t(4942),c=t(4925),i=(t(2791),t(1694)),a=t.n(i),l={wrapper:"Button_wrapper__GqKsN",primary:"Button_primary__9MLUH",secondary:"Button_secondary__sUGsj",selected:"Button_selected__NZP20",text:"Button_text__Rk+Tr",transparent:"Button_transparent__puDsp"},s=t(184),u=["variant","className","selected","children","eventKey","onClick"],d=function(n){var e=n.variant,t=void 0===e?"primary":e,i=n.className,d=n.selected,f=void 0!==d&&d,p=n.children,m=void 0===p?"Click":p,v=n.eventKey,C=n.onClick,h=(0,c.Z)(n,u);return(0,s.jsx)("button",(0,o.Z)((0,o.Z)({className:a()(l.wrapper,l[t],(0,r.Z)({},l.selected,f),i),style:h.style,onClick:function(n){C&&C(n,{eventKey:v})}},h),{},{children:m}))}},4433:function(n,e,t){t.d(e,{Z:function(){return g}});var o=t(4925),r=t(7467),c=t(184),i=["open","backdrop"],a=function(n){var e=n.open,t=void 0!==e&&e,a=n.backdrop,l=void 0===a||a,s=(0,o.Z)(n,i);return(0,c.jsx)(r.Z,{modal:!0,nested:!0,lockScroll:!0,open:t,closeOnDocumentClick:l,closeOnEscape:!0,onClose:s.onClose,contentStyle:{background:"transparent",border:"none",width:"auto"},overlayStyle:{backgroundColor:"#091e428a"},children:s.children})},l=t(1694),s=t.n(l),u="ModalDialog_wrapper__SJQv5",d=function(n){return(0,c.jsx)("div",{className:s()(u,n.className),style:n.style,children:n.children})},f="ModalHeader_wrapper__tVVhd",p=function(n){return(0,c.jsxs)("header",{className:s()(f,n.className),style:n.style,children:[(0,c.jsx)("h1",{children:n.title}),n.children]})},m="ModalBody_main__yFQS5",v=function(n){return(0,c.jsx)("main",{className:s()(m,n.className),style:n.style,children:n.children||n.content})},C=t(4942),h="ModalFooter_wrapper__eBzg3",x="ModalFooter_disabled__U85L9",Z=function(n){var e,t;return(0,c.jsxs)("footer",{className:s()(h,n.className),style:n.style,children:[!!n.cancelText&&(0,c.jsx)("div",{onClick:function(){n.onCancel&&n.onCancel(),n.onClose&&n.onClose()},className:s()((0,C.Z)({},x,null===(e=n.cancelButtonProps)||void 0===e?void 0:e.disabled)),children:n.cancelText}),!!n.confirmText&&(0,c.jsx)("div",{onClick:function(){n.onConfirm&&n.onConfirm(),n.onClose&&n.onClose()},className:s()((0,C.Z)({},x,null===(t=n.confirmButtonProps)||void 0===t?void 0:t.disabled)),children:n.confirmText})]})},_=function(n){return(0,c.jsx)(a,{open:n.open,closeOnDocumentClick:n.backdrop,onClose:n.onClose,children:(0,c.jsxs)(d,{children:[(0,c.jsx)(p,{title:n.title}),(0,c.jsx)(v,{content:n.content,children:n.children}),(0,c.jsx)(Z,{confirmText:n.confirmText,confirmButtonProps:n.confirmButtonProps,cancelText:n.cancelText,cancelButtonProps:n.cancelButtonProps,onConfirm:n.onConfirm,onCancel:n.onCancel,onClose:n.onClose})]})})},y=t(1413),b=(t(2791),t(4164)),j=["onConfirm","onCancel","onClose"];function k(n,e){var t=function(){var n=document.getElementById("popup-root");return n||((n=document.createElement("div")).setAttribute("id","popup-root"),document.body.appendChild(n)),n}(),r=document.createElement("div");function i(e){b.render((0,c.jsx)(n,(0,y.Z)({},function(n){var e=n.onConfirm,t=n.onCancel,r=n.onClose,c=(0,o.Z)(n,j),i=function(n){return n?function(){"function"===typeof n&&n(),a()}:a};return(0,y.Z)((0,y.Z)({},c),{},{onConfirm:i(e),onCancel:i(t),onClose:i(r)})}(e))),r)}function a(){i((0,y.Z)((0,y.Z)({},e),{},{open:!1}))}return t.appendChild(r),i((0,y.Z)((0,y.Z)({},e),{},{open:!0})),{destroy:a,update:function(n){i((0,y.Z)((0,y.Z)((0,y.Z)({},e),n),{},{open:!0}))}}}var g=Object.assign(_,{alert:function(n){return k(_,function(n){return(0,y.Z)((0,y.Z)({},n),{},{cancelText:null})}(n))},confirm:function(n){return k(_,function(n){return(0,y.Z)((0,y.Z)({},n),{},{cancelText:n.cancelText})}(n))},Dialog:d,Header:p,Body:v,Footer:Z})},4070:function(n,e,t){t.d(e,{Z:function(){return C}});var o=t(885),r="Profile_wrapper__r3jTF",c="Profile_avatar__xyyqj",i="Profile_username__2YFrb",a="Profile_chat__hJK6i",l="Profile_chat-unread__hBtH+",s=t(9411),u=t(7724),d=t(8820),f=t(2791),p=t(9713),m=JSON.parse('["#B9887D","#C7802D","#6A4C9C","#A96360","#828282","#336774","#B54434","#BF6766","#DB8E71","#B35C37","#00AA90","#577C8A","#904840","#8D742A","#58B2DC","#574C57"]'),v=t(184),C=function(){var n,e,t=(0,u.a)(),C=(0,d.aC)(),h=(0,p.ZG)(),x=(0,o.Z)(h,2),Z=x[0],_=x[1],y=function(){var n="avatar-color",e=parseInt("".concat(localStorage.getItem(n)),10);return e||(e=Math.round(1e3*Math.random()),localStorage.setItem(n,"".concat(e))),m[e%m.length]}(),b=C.user.email||"Unknown",j=C.user.name||"\u672a\u547d\u540d",k=(null===(n=_.data)||void 0===n||null===(e=n.me)||void 0===e?void 0:e.consults)||[];return(0,f.useEffect)((function(){C.user.id&&Z()}),[C.user.id,Z]),(0,v.jsxs)("div",{className:r,children:[(0,v.jsx)("div",{className:c,style:{background:y},children:b[0].toUpperCase()}),(0,v.jsx)("div",{className:i,children:j}),!C.user.clinic&&(0,v.jsxs)("div",{className:a,onClick:function(){C.user.clinic?t.toDoctorInbox():t.toMemberInbox()},children:[(0,v.jsx)(s.Z,{name:"Chat"}),k.length>1&&(null===k||void 0===k?void 0:k.map((function(n){var e;return null===n||void 0===n||null===(e=n.userInboxes)||void 0===e?void 0:e.some((function(n){return!(null!==n&&void 0!==n&&n.read)}))})))&&(0,v.jsx)("div",{className:l})]})]})}},9713:function(n,e,t){t.d(e,{FH:function(){return p},ZG:function(){return m}});var o,r,c=t(1413),i=t(168),a=t(7743),l=t(6578),s=t(6586),u={},d=(0,a.Ps)(o||(o=(0,i.Z)(["\n  fragment UserInboxes on ConsultExt {\n    userInboxes {\n      id\n      read\n      readAt\n      topicId\n      replies {\n        content\n      }\n      clinic {\n        id\n        name\n      }\n    }\n  }\n"]))),f=(0,a.Ps)(r||(r=(0,i.Z)(["\n  query GetMemberInbox {\n    me {\n      consults {\n        id\n        subject\n        content\n        days\n        images\n        oneOnOne\n        ...UserInboxes\n      }\n    }\n  }\n  ","\n"])),d);function p(n){var e=(0,c.Z)((0,c.Z)({},u),n);return l.a(f,e)}function m(n){var e=(0,c.Z)((0,c.Z)({},u),n);return s.t(f,e)}},6747:function(n,e,t){t.r(e),t.d(e,{default:function(){return x}});var o=t(4165),r=t(1413),c=t(5861),i=t(885),a=t(2791),l=t(2313),s=t(4070),u=t(7901),d=t(7724),f=t(4433),p=t(8820),m=t(2284),v="Member_wrapper__AeC9a",C=t(184),h={title:"\u5bc4\u9001\u8a8d\u8b49\u90f5\u4ef6",content:"\u5c07\u5bc6\u78bc\u8a8d\u8b49\u4fe1\u5bc4\u81f3\u8a3b\u518a\u4fe1\u7bb1",confirm:"\u767c\u9001",cancel:"\u53d6\u6d88"},x=function(){var n=(0,a.useState)(!1),e=(0,i.Z)(n,2),t=e[0],x=e[1],Z=(0,d.a)(),_=(0,p.aC)(),y=(0,a.useState)(h),b=(0,i.Z)(y,2),j=b[0],k=b[1];return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(s.Z,{}),(0,C.jsxs)("div",{className:v,children:[(0,C.jsx)(l.Z,{variant:"secondary",onClick:Z.toConsultationRecord,children:"\u8aee\u8a62\u6b77\u53f2\u7d00\u9304"}),(0,C.jsx)(l.Z,{variant:"secondary",onClick:Z.toCollectClinicalCase,children:"\u6536\u85cf\u6848\u4f8b"}),(0,C.jsx)(l.Z,{variant:"secondary",onClick:function(){return x(!0)},children:"\u4fee\u6539\u5bc6\u78bc"}),(0,C.jsx)(l.Z,{variant:"secondary",onClick:Z.toQuestions,children:"\u5e38\u898b\u554f\u7b54"}),(0,C.jsx)(f.Z,{title:j.title,open:t,confirmText:j.confirm,cancelText:j.cancel,onConfirm:(0,c.Z)((0,o.Z)().mark((function n(){var e,t;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,null===_||void 0===_||null===(e=_.user)||void 0===e||!e.email){n.next=5;break}return n.next=4,(0,m.m5)(null===_||void 0===_||null===(t=_.user)||void 0===t?void 0:t.email);case 4:k((0,r.Z)((0,r.Z)({},j),{},{title:"\u767c\u9001\u6210\u529f",content:"\u8acb\u81f3\u8a3b\u518a\u4fe1\u7bb1\u67e5\u6536\u65b0\u5bc6\u78bc",confirm:"",cancel:"\u95dc\u9589"}));case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),k((0,r.Z)((0,r.Z)({},j),{},{title:"\u767c\u9001\u5931\u6557",content:"\u8acb\u91cd\u65b0\u767c\u9001",confirm:"",cancel:"\u95dc\u9589"}));case 10:x(!0);case 11:case"end":return n.stop()}}),n,null,[[0,7]])}))),onCancel:function(){k(h),x(!1)},children:j.content}),(0,C.jsx)("div",{}),(0,C.jsx)(l.Z,{variant:"text",onClick:function(){_.signOut(),Z.toHome()},children:"\u767b\u51fa"})]}),(0,C.jsx)(u.Z,{})]})}},6586:function(n,e,t){t.d(e,{t:function(){return s}});var o=t(9388),r=t(2791),c=t(3124),i=t(6578),a=t(5046),l=["refetch","reobserve","fetchMore","updateQuery","startPolling","subscribeToMore"];function s(n,e){var t=(0,i.A)((0,a.x)(e&&e.client),n),s=(0,r.useRef)(),u=s.current?(0,c.J)(e,s.current):e,d=t.useQuery((0,o.pi)((0,o.pi)({},u),{skip:!s.current})),f=d.observable.options.initialFetchPolicy||t.getDefaultFetchPolicy(),p=Object.assign(d,{called:!!s.current}),m=(0,r.useMemo)((function(){for(var n={},e=function(e){var o=p[e];n[e]=function(){return s.current||(s.current=Object.create(null),t.forceUpdate()),o.apply(this,arguments)}},o=0,r=l;o<r.length;o++){e(r[o])}return n}),[]);return Object.assign(p,m),[(0,r.useCallback)((function(n){s.current=n?(0,o.pi)((0,o.pi)({},n),{fetchPolicy:n.fetchPolicy||f}):{fetchPolicy:f};var e=t.asyncUpdate().then((function(n){return Object.assign(n,m)}));return e.catch((function(){})),e}),[]),p]}}}]);
//# sourceMappingURL=899.ea0054bf.chunk.js.map