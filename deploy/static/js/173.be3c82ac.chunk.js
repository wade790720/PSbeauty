"use strict";(self.webpackChunkpsbeauty=self.webpackChunkpsbeauty||[]).push([[173],{2313:function(n,e,t){t.d(e,{Z:function(){return d}});var o=t(1413),r=t(4942),i=t(4925),a=(t(2791),t(1694)),c=t.n(a),l={wrapper:"Button_wrapper__GqKsN",primary:"Button_primary__9MLUH",secondary:"Button_secondary__sUGsj",selected:"Button_selected__NZP20",text:"Button_text__Rk+Tr",transparent:"Button_transparent__puDsp"},s=t(184),u=["variant","className","selected","children","eventKey","onClick"],d=function(n){var e=n.variant,t=void 0===e?"primary":e,a=n.className,d=n.selected,p=void 0!==d&&d,v=n.children,m=void 0===v?"Click":v,h=n.eventKey,f=n.onClick,g=(0,i.Z)(n,u);return(0,s.jsx)("button",(0,o.Z)((0,o.Z)({className:c()(l.wrapper,l[t],(0,r.Z)({},l.selected,p),a),style:g.style,onClick:function(n){f&&f(n,{eventKey:h})}},g),{},{children:m}))}},4433:function(n,e,t){t.d(e,{Z:function(){return j}});var o=t(4925),r=t(7467),i=t(184),a=["open","backdrop"],c=function(n){var e=n.open,t=void 0!==e&&e,c=n.backdrop,l=void 0===c||c,s=(0,o.Z)(n,a);return(0,i.jsx)(r.Z,{modal:!0,nested:!0,lockScroll:!0,open:t,closeOnDocumentClick:l,closeOnEscape:!0,onClose:s.onClose,contentStyle:{background:"transparent",border:"none",width:"auto"},overlayStyle:{backgroundColor:"#091e428a"},children:s.children})},l=t(1694),s=t.n(l),u="ModalDialog_wrapper__SJQv5",d=function(n){return(0,i.jsx)("div",{className:s()(u,n.className),style:n.style,children:n.children})},p="ModalHeader_wrapper__tVVhd",v=function(n){return(0,i.jsxs)("header",{className:s()(p,n.className),style:n.style,children:[(0,i.jsx)("h1",{children:n.title}),n.children]})},m="ModalBody_main__yFQS5",h=function(n){return(0,i.jsx)("main",{className:s()(m,n.className),style:n.style,children:n.children||n.content})},f=t(4942),g="ModalFooter_wrapper__eBzg3",_="ModalFooter_disabled__U85L9",C=function(n){var e,t;return(0,i.jsxs)("footer",{className:s()(g,n.className),style:n.style,children:[!!n.cancelText&&(0,i.jsx)("div",{onClick:function(){n.onCancel&&n.onCancel(),n.onClose&&n.onClose()},className:s()((0,f.Z)({},_,null===(e=n.cancelButtonProps)||void 0===e?void 0:e.disabled)),children:n.cancelText}),!!n.confirmText&&(0,i.jsx)("div",{onClick:function(){n.onConfirm&&n.onConfirm(),n.onClose&&n.onClose()},className:s()((0,f.Z)({},_,null===(t=n.confirmButtonProps)||void 0===t?void 0:t.disabled)),children:n.confirmText})]})},y=function(n){return(0,i.jsx)(c,{open:n.open,closeOnDocumentClick:n.backdrop,onClose:n.onClose,children:(0,i.jsxs)(d,{children:[(0,i.jsx)(v,{title:n.title}),(0,i.jsx)(h,{content:n.content,children:n.children}),(0,i.jsx)(C,{confirmText:n.confirmText,confirmButtonProps:n.confirmButtonProps,cancelText:n.cancelText,cancelButtonProps:n.cancelButtonProps,onConfirm:n.onConfirm,onCancel:n.onCancel,onClose:n.onClose})]})})},x=t(1413),k=(t(2791),t(4164)),b=["onConfirm","onCancel","onClose"];function Z(n,e){var t=function(){var n=document.getElementById("popup-root");return n||((n=document.createElement("div")).setAttribute("id","popup-root"),document.body.appendChild(n)),n}(),r=document.createElement("div");function a(e){k.render((0,i.jsx)(n,(0,x.Z)({},function(n){var e=n.onConfirm,t=n.onCancel,r=n.onClose,i=(0,o.Z)(n,b),a=function(n){return n?function(){"function"===typeof n&&n(),c()}:c};return(0,x.Z)((0,x.Z)({},i),{},{onConfirm:a(e),onCancel:a(t),onClose:a(r)})}(e))),r)}function c(){a((0,x.Z)((0,x.Z)({},e),{},{open:!1}))}return t.appendChild(r),a((0,x.Z)((0,x.Z)({},e),{},{open:!0})),{destroy:c,update:function(n){a((0,x.Z)((0,x.Z)((0,x.Z)({},e),n),{},{open:!0}))}}}var j=Object.assign(y,{alert:function(n){return Z(y,function(n){return(0,x.Z)((0,x.Z)({},n),{},{cancelText:null})}(n))},confirm:function(n){return Z(y,function(n){return(0,x.Z)((0,x.Z)({},n),{},{cancelText:n.cancelText})}(n))},Dialog:d,Header:v,Body:h,Footer:C})},2173:function(n,e,t){t.r(e),t.d(e,{default:function(){return E}});var o,r=t(1413),i=t(4165),a=t(5861),c=t(885),l="SignIn_wrapper__Eviuu",s="SignIn_title__vRTMs",u="SignIn_subtitle__I6DVU",d="SignIn_actions__Z7+O8",p="SignIn_version__b+K0f",v=t(4576),m=t(2313),h=t(4433),f=t(2791),g=t(7724),_=t(1134),C=t(8659),y=t(8820),x=t(456),k=t(168),b=t(7743),Z=t(4376),j={},w=(0,b.Ps)(o||(o=(0,k.Z)(["\n  mutation SignInWithEmailAndPassword($email: String, $password: String) {\n    signInWithEmailAndPassword(input: { email: $email, password: $password }) {\n      customToken\n      firebaseToken\n    }\n  }\n"])));var S=t(184),N={branch:"master",tags:[],commit:{shortHash:"189a72d",hash:"189a72d23eca0df084a33a4c71daa7ed09df407d",date:"2022-09-25T19:20:48+08:00",message:"Add git commit hash version"}},E=function(){var n=(0,g.a)(),e=(0,y.aC)(),t=(0,f.useState)(!1),o=(0,c.Z)(t,2),k=o[0],b=o[1],E=(0,f.useState)(!1),T=(0,c.Z)(E,2),D=T[0],I=T[1],M=(0,_.cI)({mode:"all"}),P=M.register,B=M.handleSubmit,G=function(n){var e=(0,r.Z)((0,r.Z)({},j),n);return Z.D(w,e)}(),V=(0,c.Z)(G,1)[0],q=function(){var t=(0,a.Z)((0,i.Z)().mark((function t(o){var r,a,c,l,s,u,d,p,v,m,h;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,V({variables:{email:o.account,password:o.password}});case 3:s=t.sent,u=o.account,d=(null===s||void 0===s||null===(r=s.data)||void 0===r||null===(a=r.signInWithEmailAndPassword)||void 0===a?void 0:a.customToken)||"",p=(null===s||void 0===s||null===(c=s.data)||void 0===c||null===(l=c.signInWithEmailAndPassword)||void 0===l?void 0:l.firebaseToken)||"",(0,C.Cj)("customToken",d),(0,C.Cj)("firebaseToken",p),(0,C.Cj)("email",u),d&&u&&(e.signIn(d,o.account),null!==(h=(0,x.Z)(d))&&void 0!==h&&null!==(v=h.claims)&&void 0!==v&&v.clinic?n.toClinicInner({id:null===h||void 0===h||null===(m=h.claims)||void 0===m?void 0:m.clinic,tab:""}):n.toHome()),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),b(!0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(n){return t.apply(this,arguments)}}();return(0,S.jsxs)("div",{className:l,children:[(0,S.jsx)("div",{className:s,children:"\u767b\u5165\u4f60\u7684\u5e33\u6236"}),(0,S.jsx)("div",{className:u,children:"\u6b61\u8fce\u56de\u4f86\uff01\u8acb\u8f38\u5165\u4f60\u7684\u8cc7\u6599"}),(0,S.jsxs)(v.ZP,{onSubmit:B(q),children:[(0,S.jsx)(v.ZP.Input,(0,r.Z)({type:"text",variant:"gray",placeholder:"\u5e33\u865f"},P("account"))),(0,S.jsx)(v.ZP.Input,(0,r.Z)({type:"password",variant:"gray",placeholder:"\u5bc6\u78bc"},P("password"))),(0,S.jsx)(m.Z,{variant:"primary",type:"submit",children:"\u767b\u5165"}),(0,S.jsx)(m.Z,{variant:"text",type:"button",onClick:n.toHome,children:"\u8a2a\u5ba2\u767b\u5165"}),(0,S.jsx)(h.Z,{title:"\u767b\u5165\u5931\u6557",open:k,confirmText:"\u78ba\u5b9a",onClose:function(){return b(!1)},children:"\u5e33\u865f\u5bc6\u78bc\u932f\u8aa4\uff0c\u8acb\u91cd\u65b0\u8f38\u5165"})]}),(0,S.jsxs)("div",{className:d,children:[(0,S.jsx)("div",{}),(0,S.jsx)("div",{onClick:n.toForgotPassword,children:"\u5fd8\u8a18\u5bc6\u78bc"}),(0,S.jsx)("div",{children:"|"}),(0,S.jsx)("div",{onClick:n.toRegister,children:"\u8a3b\u518a\u5e33\u865f"})]}),(0,S.jsxs)("div",{className:p,children:[(0,S.jsx)("button",{onClick:function(){return I(!D)},children:"show"}),D&&(0,S.jsxs)("span",{children:["version\uff1a",N.commit.hash.substring(0,7)]})]})]})}},5046:function(n,e,t){t.d(e,{x:function(){return a}});var o=t(3855),r=t(2791),i=t(9819);function a(n){var e=(0,r.useContext)((0,i.K)()),t=n||e.client;return __DEV__?(0,o.kG)(!!t,'Could not find "client" in the context or passed in as an option. Wrap the root component in an <ApolloProvider>, or pass an ApolloClient instance in via options.'):(0,o.kG)(!!t,29),t}},4376:function(n,e,t){t.d(e,{D:function(){return u}});var o=t(9388),r=t(2791),i=t(3124),a=t(5970),c=t(2364),l=t(9484),s=t(5046);function u(n,e){var t=(0,s.x)(null===e||void 0===e?void 0:e.client);(0,c.Vp)(n,c.n_.Mutation);var u=(0,r.useState)({called:!1,loading:!1,client:t}),d=u[0],p=u[1],v=(0,r.useRef)({result:d,mutationId:0,isMounted:!0,client:t,mutation:n,options:e});Object.assign(v.current,{client:t,options:e,mutation:n});var m=(0,r.useCallback)((function(n){void 0===n&&(n={});var e=v.current,t=e.client,r=e.options,c=e.mutation,s=(0,o.pi)((0,o.pi)({},r),{mutation:c});v.current.result.loading||s.ignoreResults||p(v.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:t});var u=++v.current.mutationId,d=(0,i.J)(s,n);return t.mutate(d).then((function(e){var o,r,i,c=e.data,s=e.errors,m=s&&s.length>0?new l.c({graphQLErrors:s}):void 0;if(u===v.current.mutationId&&!d.ignoreResults){var h={called:!0,loading:!1,data:c,error:m,client:t};v.current.isMounted&&!(0,a.D)(v.current.result,h)&&p(v.current.result=h)}return null===(r=null===(o=v.current.options)||void 0===o?void 0:o.onCompleted)||void 0===r||r.call(o,e.data),null===(i=n.onCompleted)||void 0===i||i.call(n,e.data),e})).catch((function(e){var o,r,i,c;if(u===v.current.mutationId&&v.current.isMounted){var l={loading:!1,error:e,data:void 0,called:!0,client:t};(0,a.D)(v.current.result,l)||p(v.current.result=l)}if((null===(o=v.current.options)||void 0===o?void 0:o.onError)||d.onError)return null===(i=null===(r=v.current.options)||void 0===r?void 0:r.onError)||void 0===i||i.call(r,e),null===(c=n.onError)||void 0===c||c.call(n,e),{data:void 0,errors:e};throw e}))}),[]),h=(0,r.useCallback)((function(){p({called:!1,loading:!1,client:t})}),[]);return(0,r.useEffect)((function(){return v.current.isMounted=!0,function(){v.current.isMounted=!1}}),[]),[m,(0,o.pi)({reset:h},d)]}},2364:function(n,e,t){t.d(e,{Vp:function(){return c},n_:function(){return o}});var o,r=t(3855);!function(n){n[n.Query=0]="Query",n[n.Mutation=1]="Mutation",n[n.Subscription=2]="Subscription"}(o||(o={}));var i=new Map;function a(n){var e;switch(n){case o.Query:e="Query";break;case o.Mutation:e="Mutation";break;case o.Subscription:e="Subscription"}return e}function c(n,e){var t=function(n){var e,t,a=i.get(n);if(a)return a;__DEV__?(0,r.kG)(!!n&&!!n.kind,"Argument of ".concat(n," passed to parser was not a valid GraphQL ")+"DocumentNode. You may need to use 'graphql-tag' or another method to convert your operation into a document"):(0,r.kG)(!!n&&!!n.kind,30);for(var c=[],l=[],s=[],u=[],d=0,p=n.definitions;d<p.length;d++){var v=p[d];if("FragmentDefinition"!==v.kind){if("OperationDefinition"===v.kind)switch(v.operation){case"query":l.push(v);break;case"mutation":s.push(v);break;case"subscription":u.push(v)}}else c.push(v)}__DEV__?(0,r.kG)(!c.length||l.length||s.length||u.length,"Passing only a fragment to 'graphql' is not yet supported. You must include a query, subscription or mutation as well"):(0,r.kG)(!c.length||l.length||s.length||u.length,31),__DEV__?(0,r.kG)(l.length+s.length+u.length<=1,"react-apollo only supports a query, subscription, or a mutation per HOC. "+"".concat(n," had ").concat(l.length," queries, ").concat(u.length," ")+"subscriptions and ".concat(s.length," mutations. ")+"You can use 'compose' to join multiple operation types to a component"):(0,r.kG)(l.length+s.length+u.length<=1,32),t=l.length?o.Query:o.Mutation,l.length||s.length||(t=o.Subscription);var m=l.length?l:s.length?s:u;__DEV__?(0,r.kG)(1===m.length,"react-apollo only supports one definition per HOC. ".concat(n," had ")+"".concat(m.length," definitions. ")+"You can use 'compose' to join multiple operation types to a component"):(0,r.kG)(1===m.length,33);var h=m[0];e=h.variableDefinitions||[];var f={name:h.name&&"Name"===h.name.kind?h.name.value:"data",type:t,variables:e};return i.set(n,f),f}(n),c=a(e),l=a(t.type);__DEV__?(0,r.kG)(t.type===e,"Running a ".concat(c," requires a graphql ")+"".concat(c,", but a ").concat(l," was used instead.")):(0,r.kG)(t.type===e,34)}}}]);
//# sourceMappingURL=173.be3c82ac.chunk.js.map