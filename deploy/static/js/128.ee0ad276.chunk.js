"use strict";(self.webpackChunkpsbeauty=self.webpackChunkpsbeauty||[]).push([[128],{4719:function(e,n,t){t.d(n,{Z:function(){return s}});var i=t(1413),r=t(4925),l="Backdrop_wrapper__LB3Yk",a=t(1694),c=t.n(a),o=t(184),u=["style"],s=function(e){var n=e.style,t=void 0===n?{}:n,a=(0,r.Z)(e,u);return(0,o.jsx)("div",{className:c()(l,a.className),style:(0,i.Z)({},t),children:a.children})}},6427:function(e,n,t){t.d(n,{Z:function(){return h}});var i=t(1413),r=t(4942),l=t(4925),a="Header_wrapper__e2tXX",c="Header_large__tDbDa",o="Header_small__U9DHq",u="Header_back__Chgho",s="Header_title__87Ruw",d="Header_has-back__h6eqr",v=t(1694),f=t.n(v),m=t(9411),C=t(6871),_=t(184),p=["style"],h=function(e){var n,t=e.style,v=void 0===t?{}:t,h=(0,l.Z)(e,p),g=(0,C.s0)(),Z=(0,C.UO)().text;return(0,_.jsxs)("div",{className:f()(a,h.className,(n={},(0,r.Z)(n,c,h.title||h.children),(0,r.Z)(n,o,!h.title&&!h.leftArrow),n)),style:(0,i.Z)({},v),children:[h.leftArrow&&(0,_.jsx)("div",{onClick:function(){return h.redirect?h.redirect():g(Z?-2:-1)},children:(0,_.jsx)(m.Z,{className:u,name:"LeftArrow"})}),h.title?(0,_.jsx)("div",{className:f()(s,(0,r.Z)({},d,h.leftArrow)),children:h.title}):h.children]})}},1630:function(e,n,t){t.r(n),t.d(n,{default:function(){return L}});var i,r,l,a,c=t(885),o="ClinicalCase_wrapper__hLi9z",u="ClinicalCase_outer__vIKGn",s="ClinicalCase_title__gZKaS",d="ClinicalCase_collect-block__Y0MIO",v="ClinicalCase_bookmark-simple__cGJ5s",f="ClinicalCase_clinic__Dlm4x",m="ClinicalCase_content__1SpAZ",C="ClinicalCase_image__-Qfka",_="ClinicalCase_tags__d-N6T",p=t(4719),h=t(6427),g=t(9411),Z=t(1413),b=t(168),j=t(7743),x=t(6578),k=t(6586),y=t(4376),I={},N=(0,j.Ps)(i||(i=(0,b.Z)(["\n  query GetCase($id: String!) {\n    case(id: $id) {\n      id\n      title\n      description\n      image\n      categories {\n        id\n        name\n      }\n      clinic {\n        id\n        name\n      }\n    }\n  }\n"])));var w=(0,j.Ps)(r||(r=(0,b.Z)(["\n  query GetCollectItems {\n    me {\n      userCollectedCases {\n        id\n      }\n    }\n  }\n"])));var P=(0,j.Ps)(l||(l=(0,b.Z)(["\n  mutation CollectCase($caseId: String!) {\n    collectCase(input: { caseId: $caseId }) {\n      userId\n      collectedCount\n    }\n  }\n"])));var M=(0,j.Ps)(a||(a=(0,b.Z)(["\n  mutation RemoveCollectedCase($caseId: String!) {\n    removeCollectedCase(input: { caseId: $caseId }) {\n      userId\n      collectedCount\n    }\n  }\n"])));var S=t(2791),D=t(8163),E=t(8820),H=t(6871),O=t(2103),A=t(184),L=function(){var e,n,t,i,r,l,a,b,j,L=(0,D.Z)(),R=(0,E.aC)(),$=(0,S.useRef)(null),U=(0,S.useState)(0),q=(0,c.Z)(U,2),B=q[0],F=q[1],G=(0,H.UO)().caseId,Q=function(e){var n=(0,Z.Z)((0,Z.Z)({},I),e);return k.t(w,n)}({fetchPolicy:"no-cache"}),J=(0,c.Z)(Q,2),T=J[0],K=J[1],X=function(e){var n=(0,Z.Z)((0,Z.Z)({},I),e);return x.a(N,n)}({variables:{id:G||""}}),Y=X.data,z=X.loading,V=X.error,W=(0,S.useState)(!1),ee=(0,c.Z)(W,2),ne=ee[0],te=ee[1];(0,S.useLayoutEffect)((function(){$.current&&!z&&F($.current.clientWidth)}),[z]),(0,S.useEffect)((function(){R.user.id&&T()}),[R.user.id]),(0,S.useEffect)((function(){var e,n,t;te(!(null===K||void 0===K||null===(e=K.data)||void 0===e||null===(n=e.me)||void 0===n||null===(t=n.userCollectedCases)||void 0===t||!t.find((function(e){return(null===e||void 0===e?void 0:e.id)===G}))))}),[null===K||void 0===K||null===(e=K.data)||void 0===e||null===(n=e.me)||void 0===n?void 0:n.userCollectedCases]);var ie=function(e){var n=(0,Z.Z)((0,Z.Z)({},I),e);return y.D(P,n)}({variables:{caseId:G||""},update:function(e,n){var t,i;null!==n&&void 0!==n&&null!==(t=n.data)&&void 0!==t&&null!==(i=t.collectCase)&&void 0!==i&&i.userId&&te(!0)}}),re=(0,c.Z)(ie,1)[0],le=function(e){var n=(0,Z.Z)((0,Z.Z)({},I),e);return y.D(M,n)}({variables:{caseId:G||""},update:function(e,n){var t;null!==n&&void 0!==n&&null!==(t=n.data)&&void 0!==t&&t.removeCollectedCase&&te(!1)}}),ae=(0,c.Z)(le,1)[0];return z?(0,A.jsx)(O.Z.Loading,{}):V?(0,A.jsx)(O.Z.Error,{}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(h.Z,{leftArrow:!0}),(0,A.jsx)(p.Z,{className:o,children:(0,A.jsxs)("div",{className:u,children:[(0,A.jsx)("div",{className:s,children:null===Y||void 0===Y||null===(t=Y.case)||void 0===t?void 0:t.title}),(0,A.jsx)("div",{className:f,onClick:function(){var e,n;return L.toClinicInner({id:(null===Y||void 0===Y||null===(e=Y.case)||void 0===e||null===(n=e.clinic)||void 0===n?void 0:n.id)||"",tab:"info"})},children:null===Y||void 0===Y||null===(i=Y.case)||void 0===i||null===(r=i.clinic)||void 0===r?void 0:r.name}),(0,A.jsx)("div",{className:C,style:{height:B},ref:$,children:(0,A.jsx)("img",{src:(null===Y||void 0===Y||null===(l=Y.case)||void 0===l?void 0:l.image)||""})}),(0,A.jsx)("div",{className:m,dangerouslySetInnerHTML:{__html:(null===Y||void 0===Y||null===(a=Y.case)||void 0===a?void 0:a.description)||""}}),(0,A.jsx)("div",{className:_,children:null===Y||void 0===Y||null===(b=Y.case)||void 0===b||null===(j=b.categories)||void 0===j?void 0:j.map((function(e){return(0,A.jsxs)("div",{children:[(0,A.jsx)("span",{children:"#"}),null===e||void 0===e?void 0:e.name]},null===e||void 0===e?void 0:e.id)}))}),(0,A.jsx)("div",{className:d,onClick:function(e){if(e.stopPropagation(),!R.user.id)return L.toSignIn();ne?ae():re()},children:(0,A.jsx)(g.Z,{name:ne?"BookmarkFill":"BookmarkSimple",className:v})})]})})]})}},6586:function(e,n,t){t.d(n,{t:function(){return u}});var i=t(9388),r=t(2791),l=t(3124),a=t(6578),c=t(5046),o=["refetch","reobserve","fetchMore","updateQuery","startPolling","subscribeToMore"];function u(e,n){var t=(0,a.A)((0,c.x)(n&&n.client),e),u=(0,r.useRef)(),s=u.current?(0,l.J)(n,u.current):n,d=t.useQuery((0,i.pi)((0,i.pi)({},s),{skip:!u.current})),v=d.observable.options.initialFetchPolicy||t.getDefaultFetchPolicy(),f=Object.assign(d,{called:!!u.current}),m=(0,r.useMemo)((function(){for(var e={},n=function(n){var i=f[n];e[n]=function(){return u.current||(u.current=Object.create(null),t.forceUpdate()),i.apply(this,arguments)}},i=0,r=o;i<r.length;i++){n(r[i])}return e}),[]);return Object.assign(f,m),[(0,r.useCallback)((function(e){u.current=e?(0,i.pi)((0,i.pi)({},e),{fetchPolicy:e.fetchPolicy||v}):{fetchPolicy:v};var n=t.asyncUpdate().then((function(e){return Object.assign(e,m)}));return n.catch((function(){})),n}),[]),f]}},4376:function(e,n,t){t.d(n,{D:function(){return s}});var i=t(9388),r=t(2791),l=t(3124),a=t(5970),c=t(2364),o=t(9484),u=t(5046);function s(e,n){var t=(0,u.x)(null===n||void 0===n?void 0:n.client);(0,c.Vp)(e,c.n_.Mutation);var s=(0,r.useState)({called:!1,loading:!1,client:t}),d=s[0],v=s[1],f=(0,r.useRef)({result:d,mutationId:0,isMounted:!0,client:t,mutation:e,options:n});Object.assign(f.current,{client:t,options:n,mutation:e});var m=(0,r.useCallback)((function(e){void 0===e&&(e={});var n=f.current,t=n.client,r=n.options,c=n.mutation,u=(0,i.pi)((0,i.pi)({},r),{mutation:c});f.current.result.loading||u.ignoreResults||v(f.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:t});var s=++f.current.mutationId,d=(0,l.J)(u,e);return t.mutate(d).then((function(n){var i,r,l,c=n.data,u=n.errors,m=u&&u.length>0?new o.c({graphQLErrors:u}):void 0;if(s===f.current.mutationId&&!d.ignoreResults){var C={called:!0,loading:!1,data:c,error:m,client:t};f.current.isMounted&&!(0,a.D)(f.current.result,C)&&v(f.current.result=C)}return null===(r=null===(i=f.current.options)||void 0===i?void 0:i.onCompleted)||void 0===r||r.call(i,n.data),null===(l=e.onCompleted)||void 0===l||l.call(e,n.data),n})).catch((function(n){var i,r,l,c;if(s===f.current.mutationId&&f.current.isMounted){var o={loading:!1,error:n,data:void 0,called:!0,client:t};(0,a.D)(f.current.result,o)||v(f.current.result=o)}if((null===(i=f.current.options)||void 0===i?void 0:i.onError)||d.onError)return null===(l=null===(r=f.current.options)||void 0===r?void 0:r.onError)||void 0===l||l.call(r,n),null===(c=e.onError)||void 0===c||c.call(e,n),{data:void 0,errors:n};throw n}))}),[]),C=(0,r.useCallback)((function(){v({called:!1,loading:!1,client:t})}),[]);return(0,r.useEffect)((function(){return f.current.isMounted=!0,function(){f.current.isMounted=!1}}),[]),[m,(0,i.pi)({reset:C},d)]}}}]);
//# sourceMappingURL=128.ee0ad276.chunk.js.map