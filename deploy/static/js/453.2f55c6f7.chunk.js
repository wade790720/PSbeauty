"use strict";(self.webpackChunkpsbeauty=self.webpackChunkpsbeauty||[]).push([[453],{2313:function(n,e,t){t.d(e,{Z:function(){return d}});var o=t(1413),r=t(4942),c=t(4925),i=(t(2791),t(1694)),a=t.n(i),l={wrapper:"Button_wrapper__GqKsN",primary:"Button_primary__9MLUH",secondary:"Button_secondary__sUGsj",selected:"Button_selected__NZP20",text:"Button_text__Rk+Tr",transparent:"Button_transparent__puDsp"},s=t(184),u=["variant","className","selected","children","eventKey","onClick"],d=function(n){var e=n.variant,t=void 0===e?"primary":e,i=n.className,d=n.selected,p=void 0!==d&&d,m=n.children,f=void 0===m?"Click":m,v=n.eventKey,h=n.onClick,x=(0,c.Z)(n,u);return(0,s.jsx)("button",(0,o.Z)((0,o.Z)({className:a()(l.wrapper,l[t],(0,r.Z)({},l.selected,p),i),style:x.style,onClick:function(n){h&&h(n,{eventKey:v})}},x),{},{children:f}))}},4433:function(n,e,t){t.d(e,{Z:function(){return g}});var o=t(4925),r=t(7467),c=t(184),i=["open","backdrop"],a=function(n){var e=n.open,t=void 0!==e&&e,a=n.backdrop,l=void 0===a||a,s=(0,o.Z)(n,i);return(0,c.jsx)(r.Z,{modal:!0,nested:!0,lockScroll:!0,open:t,closeOnDocumentClick:l,closeOnEscape:!0,onClose:s.onClose,contentStyle:{background:"transparent",border:"none",width:"auto"},overlayStyle:{backgroundColor:"#091e428a"},children:s.children})},l=t(1694),s=t.n(l),u="ModalDialog_wrapper__SJQv5",d=function(n){return(0,c.jsx)("div",{className:s()(u,n.className),style:n.style,children:n.children})},p="ModalHeader_wrapper__tVVhd",m=function(n){return(0,c.jsxs)("header",{className:s()(p,n.className),style:n.style,children:[(0,c.jsx)("h1",{children:n.title}),n.children]})},f="ModalBody_main__yFQS5",v=function(n){return(0,c.jsx)("main",{className:s()(f,n.className),style:n.style,children:n.children||n.content})},h=t(4942),x="ModalFooter_wrapper__eBzg3",_="ModalFooter_disabled__U85L9",C=function(n){var e,t;return(0,c.jsxs)("footer",{className:s()(x,n.className),style:n.style,children:[!!n.cancelText&&(0,c.jsx)("div",{onClick:function(){n.onCancel&&n.onCancel(),n.onClose&&n.onClose()},className:s()((0,h.Z)({},_,null===(e=n.cancelButtonProps)||void 0===e?void 0:e.disabled)),children:n.cancelText}),!!n.confirmText&&(0,c.jsx)("div",{onClick:function(){n.onConfirm&&n.onConfirm(),n.onClose&&n.onClose()},className:s()((0,h.Z)({},_,null===(t=n.confirmButtonProps)||void 0===t?void 0:t.disabled)),children:n.confirmText})]})},Z=function(n){return(0,c.jsx)(a,{open:n.open,closeOnDocumentClick:n.backdrop,onClose:n.onClose,children:(0,c.jsxs)(d,{children:[(0,c.jsx)(m,{title:n.title}),(0,c.jsx)(v,{content:n.content,children:n.children}),(0,c.jsx)(C,{confirmText:n.confirmText,confirmButtonProps:n.confirmButtonProps,cancelText:n.cancelText,cancelButtonProps:n.cancelButtonProps,onConfirm:n.onConfirm,onCancel:n.onCancel,onClose:n.onClose})]})})},y=t(1413),j=(t(2791),t(4164)),k=["onConfirm","onCancel","onClose"];function b(n,e){var t=function(){var n=document.getElementById("popup-root");return n||((n=document.createElement("div")).setAttribute("id","popup-root"),document.body.appendChild(n)),n}(),r=document.createElement("div");function i(e){j.render((0,c.jsx)(n,(0,y.Z)({},function(n){var e=n.onConfirm,t=n.onCancel,r=n.onClose,c=(0,o.Z)(n,k),i=function(n){return n?function(){"function"===typeof n&&n(),a()}:a};return(0,y.Z)((0,y.Z)({},c),{},{onConfirm:i(e),onCancel:i(t),onClose:i(r)})}(e))),r)}function a(){i((0,y.Z)((0,y.Z)({},e),{},{open:!1}))}return t.appendChild(r),i((0,y.Z)((0,y.Z)({},e),{},{open:!0})),{destroy:a,update:function(n){i((0,y.Z)((0,y.Z)((0,y.Z)({},e),n),{},{open:!0}))}}}var g=Object.assign(Z,{alert:function(n){return b(Z,function(n){return(0,y.Z)((0,y.Z)({},n),{},{cancelText:null})}(n))},confirm:function(n){return b(Z,function(n){return(0,y.Z)((0,y.Z)({},n),{},{cancelText:n.cancelText})}(n))},Dialog:d,Header:m,Body:v,Footer:C})},7453:function(n,e,t){t.r(e),t.d(e,{default:function(){return g}});var o,r=t(1413),c=t(4165),i=t(5861),a=t(885),l=t(2791),s="Register_wrapper__Pr7XE",u="Register_title__HiLtJ",d="Register_subtitle__N9Gm8",p="Register_actions__eEmqA",m=t(4576),f=t(2313),v=t(4433),h=t(7724),x=t(610),_=t(2284),C=t(1134),Z=t(168),y=t(7743),j=(0,y.Ps)(o||(o=(0,Z.Z)(["\n  mutation addUser($phone: String, $clientToken: [String], $name: String!) {\n    addUser(input: { phone: $phone, clientToken: $clientToken, name: $name }) {\n      id\n    }\n  }\n"])));var k=t(8659),b=t(184),g=function(){var n=(0,l.useState)(!1),e=(0,a.Z)(n,2),t=e[0],o=e[1],Z=(0,l.useState)(!1),y=(0,a.Z)(Z,2),g=y[0],T=y[1],N=(0,h.a)(),B=(0,l.useState)(30),w=(0,a.Z)(B,2),P=w[0],S=w[1];(0,l.useEffect)((function(){var n=setInterval((function(){if(_.at.timeout){var n=_.at.timeout-(new Date).getTime();S(n>0?Math.ceil(n/1e3):0)}}),1e3);return function(){return clearInterval(n)}}),[_.at.timeout]);var I=(0,C.cI)({mode:"all"}),E=I.register,M=I.handleSubmit;return(0,b.jsxs)("div",{className:s,children:[(0,b.jsx)("div",{className:u,children:"\u8a3b\u518a\u4f60\u7684\u5e33\u6236"}),(0,b.jsx)("div",{className:d,children:"\u6b61\u8fce\u52a0\u5165\uff01\u8acb\u8f38\u5165\u4f60\u7684\u8cc7\u6599"}),(0,b.jsxs)(m.ZP,{onSubmit:M((function(n){_.z2(n.account,n.password).then(function(){var e=(0,i.Z)((0,c.Z)().mark((function e(t){var o,r,i;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,k.Cj)("customToken",t),e.prev=1,e.next=4,x.Z.mutate({mutation:j,variables:{phone:n.phone,name:n.name,clientToken:["firebase_client_device_token"]}});case 4:r=e.sent,null!==(i=r.data)&&void 0!==i&&null!==(o=i.addUser)&&void 0!==o&&o.id&&T(!0);case 7:return e.prev=7,(0,k.G3)("customToken"),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[1,,7,10]])})));return function(n){return e.apply(this,arguments)}}()).catch((function(){o(!0)}))})),children:[(0,b.jsx)(m.ZP.Input,(0,r.Z)({type:"text",variant:"gray",placeholder:"\u5e33\u865f"},E("account"))),(0,b.jsx)(m.ZP.Input,(0,r.Z)({type:"password",variant:"gray",placeholder:"\u5bc6\u78bc"},E("password"))),(0,b.jsx)(m.ZP.Input,(0,r.Z)({type:"text",variant:"gray",placeholder:"\u540d\u7a31"},E("name"))),(0,b.jsx)(m.ZP.Input,(0,r.Z)({type:"text",variant:"gray",placeholder:"\u96fb\u8a71"},E("phone"))),(0,b.jsx)(f.Z,{type:"submit",variant:"primary",children:"\u8a3b\u518a"}),(0,b.jsx)(v.Z,{title:"\u5e33\u865f\u5df2\u5b58\u5728",open:t,confirmText:"\u78ba\u5b9a",onClose:function(){return o(!1)},children:"\u932f\u8aa4\u63d0\u793a\u6587\u5b57"}),(0,b.jsx)(v.Z,{title:"\u8a8d\u8b49\u90f5\u4ef6\u5df2\u5bc4\u9001",open:g,confirmText:"\u91cd\u65b0\u767c\u9001"+(P?"(".concat(P,")"):""),confirmButtonProps:{disabled:!!P},cancelText:"\u95dc\u9589",onConfirm:function(){return _.Fx()},onCancel:function(){T(!1),N.toSignIn()},children:"\u8acb\u81f3\u4fe1\u7bb1\u9078\u53d6\u90f5\u4ef6\uff0c\u4e26\u9ede\u9078\u78ba\u8a8d\u6309\u9215"})]}),(0,b.jsxs)("div",{className:p,children:[(0,b.jsx)("div",{}),(0,b.jsx)("div",{onClick:N.toResendVerification,children:"\u91cd\u767c\u9a57\u8b49\u4fe1"}),(0,b.jsx)("div",{children:"|"}),(0,b.jsx)("div",{onClick:N.toSignIn,children:"\u5df2\u6709\u5e33\u865f"}),(0,b.jsx)("div",{})]})]})}}}]);
//# sourceMappingURL=453.2f55c6f7.chunk.js.map