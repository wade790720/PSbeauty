{"version":3,"file":"static/js/453.2f55c6f7.chunk.js","mappings":"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","sources":["webpack://psbeauty/./src/components/Button/Button.module.scss?197e","components/Button/index.tsx","components/Modal/ModalPopup/index.tsx","webpack://psbeauty/./src/components/Modal/ModalDialog/ModalDialog.module.scss?9216","components/Modal/ModalDialog/index.tsx","webpack://psbeauty/./src/components/Modal/ModalHeader/ModalHeader.module.scss?68a2","components/Modal/ModalHeader/index.tsx","webpack://psbeauty/./src/components/Modal/ModalBody/ModalBody.module.scss?5b3c","components/Modal/ModalBody/index.tsx","webpack://psbeauty/./src/components/Modal/ModalFooter/ModalFooter.module.scss?a978","components/Modal/ModalFooter/index.tsx","components/Modal/Modal/index.tsx","components/Modal/withOpen.tsx","components/Modal/index.tsx","webpack://psbeauty/./src/pages/Register/Register.module.scss?5ef0","graphql/queries/addUser.graphql.generated.ts","pages/Register/index.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Button_wrapper__GqKsN\",\"primary\":\"Button_primary__9MLUH\",\"secondary\":\"Button_secondary__sUGsj\",\"selected\":\"Button_selected__NZP20\",\"text\":\"Button_text__Rk+Tr\",\"transparent\":\"Button_transparent__puDsp\"};","import React, { PropsWithChildren } from \"react\"\nimport cx from \"classnames\"\nimport styled from \"./Button.module.scss\"\n\nconst VARIANT = {\n  PRIMARY: \"primary\",\n  SECONDARY: \"secondary\",\n  TEXT: \"text\",\n  TRANSPARENT: \"transparent\",\n} as const\n\nexport type ButtonProps = {\n  /**\n   * Specify the type of the\n   */\n  variant?: typeof VARIANT[keyof typeof VARIANT]\n  /**\n   * Specify whether the Button is currently selected\n   */\n  selected?: boolean\n  /**\n   * The button's key for the ButtonGroup.\n   */\n  eventKey?: ReactProps.EventKey\n  /**\n   * The button is a submit/text button\n   */\n  type?: \"submit\" | \"button\"\n  /**\n   * Provide an optional function to be called when the button element is clicked\n   */\n  onClick?: (\n    e: React.MouseEvent<HTMLButtonElement, MouseEvent>,\n    eventKey?: { eventKey?: ReactProps.EventKey },\n  ) => void\n} & ReactProps.Component\n\nconst Button = ({\n  variant = \"primary\",\n  className,\n  selected = false,\n  children = \"Click\",\n  eventKey,\n  onClick,\n  ...props\n}: PropsWithChildren<ButtonProps>) => {\n  return (\n    <button\n      className={cx(styled.wrapper, styled[variant], { [styled.selected]: selected }, className)}\n      style={props.style}\n      onClick={e => {\n        onClick && onClick(e, { eventKey: eventKey })\n      }}\n      {...props}>\n      {children}\n    </button>\n  )\n}\n\nexport default Button\n","import Popup from \"reactjs-popup\"\nimport { PopupProps } from \"reactjs-popup/dist/types\"\n\nexport type ModalPopupProps = {\n  /**\n   * Should the modal appear on screen or not\n   */\n  open?: boolean\n  backdrop?: boolean\n} & Partial<Pick<PopupProps, \"open\" | \"closeOnDocumentClick\" | \"onClose\" | \"children\">>\n\nconst ModalPopup = ({ open = false, backdrop = true, ...props }: ModalPopupProps) => {\n  return (\n    <Popup\n      modal\n      nested\n      lockScroll\n      open={open}\n      closeOnDocumentClick={backdrop}\n      closeOnEscape\n      onClose={props.onClose}\n      contentStyle={{\n        background: \"transparent\",\n        border: \"none\",\n        width: \"auto\",\n      }}\n      overlayStyle={{\n        backgroundColor: \"#091e428a\",\n      }}>\n      {props.children}\n    </Popup>\n  )\n}\n\nexport default ModalPopup\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"ModalDialog_wrapper__SJQv5\"};","import cx from \"classnames\"\nimport styled from \"./ModalDialog.module.scss\"\n\nexport type ModalDialogProps = ReactProps.Component\n\nconst ModalDialog = (props: ModalDialogProps) => {\n  return (\n    <div className={cx(styled.wrapper, props.className)} style={props.style}>\n      {props.children}\n    </div>\n  )\n}\n\nexport default ModalDialog\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"ModalHeader_wrapper__tVVhd\"};","import cx from \"classnames\"\nimport styled from \"./ModalHeader.module.scss\"\n\nexport type ModalHeaderProps = {\n  /**\n   * The Modal header.\n   */\n  title?: string\n} & ReactProps.Component\n\nconst ModalHeader = (props: ModalHeaderProps) => {\n  return (\n    <header className={cx(styled.wrapper, props.className)} style={props.style}>\n      <h1>{props.title}</h1>\n      {props.children}\n    </header>\n  )\n}\n\nexport default ModalHeader\n","// extracted by mini-css-extract-plugin\nexport default {\"main\":\"ModalBody_main__yFQS5\"};","import cx from \"classnames\"\nimport styled from \"./ModalBody.module.scss\"\n\nexport type ModalBodyProps = {\n  /**\n   * The Modal content. (props.children > props.content)\n   */\n  content?: string\n} & ReactProps.Component\n\nconst ModalBody = (props: ModalBodyProps) => {\n  return (\n    <main className={cx(styled.main, props.className)} style={props.style}>\n      {props.children || props.content}\n    </main>\n  )\n}\n\nexport default ModalBody\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"ModalFooter_wrapper__eBzg3\",\"disabled\":\"ModalFooter_disabled__U85L9\"};","import cx from \"classnames\"\nimport styled from \"./ModalFooter.module.scss\"\n\nexport type ModalFooterProps = {\n  /**\n   * The text for confirm button.\n   */\n  confirmText?: string\n  /**\n   * The props for confirm button.\n   */\n  confirmButtonProps?: JSX.IntrinsicElements[\"button\"]\n  /**\n   * A callback triggered whenever the modal is confirmed.\n   */\n  onConfirm?: () => void\n  /**\n   * The text for cancel button, if text is null button will be hidden\n   */\n  cancelText?: string | null\n  /**\n   * The props for cancel button.\n   */\n  cancelButtonProps?: JSX.IntrinsicElements[\"button\"]\n  /**\n   * A callback triggered whenever the cancel button clicked.\n   */\n  onCancel?: () => void\n  /**\n   * A callback triggered whenever the modal is closed.\n   */\n  onClose?: () => void\n} & ReactProps.Component\n\nconst ModalFooter = (props: ModalFooterProps) => {\n  const handleConfirm = () => {\n    props.onConfirm && props.onConfirm()\n    props.onClose && props.onClose()\n  }\n\n  const handleCancel = () => {\n    props.onCancel && props.onCancel()\n    props.onClose && props.onClose()\n  }\n\n  return (\n    <footer className={cx(styled.wrapper, props.className)} style={props.style}>\n      {!!props.cancelText && (\n        <div\n          onClick={handleCancel}\n          className={cx({ [styled.disabled]: props.cancelButtonProps?.disabled })}>\n          {props.cancelText}\n        </div>\n      )}\n      {!!props.confirmText && (\n        <div\n          onClick={handleConfirm}\n          className={cx({ [styled.disabled]: props.confirmButtonProps?.disabled })}>\n          {props.confirmText}\n        </div>\n      )}\n    </footer>\n  )\n}\n\nexport default ModalFooter\n","import ModalPopup from \"../ModalPopup\"\nimport ModalDialog from \"../ModalDialog\"\nimport Header from \"../ModalHeader\"\nimport Body from \"../ModalBody\"\nimport Footer from \"../ModalFooter\"\nimport { ModalPopupProps } from \"../ModalPopup\"\nimport { ModalBodyProps } from \"../ModalBody\"\nimport { ModalHeaderProps } from \"../ModalHeader\"\nimport { ModalFooterProps } from \"../ModalFooter\"\nimport { PopupProps } from \"reactjs-popup/dist/types\"\n\nexport type ModalProps = ModalPopupProps &\n  ModalBodyProps &\n  ModalHeaderProps &\n  ModalFooterProps &\n  Partial<Pick<PopupProps, \"open\" | \"closeOnDocumentClick\" | \"onClose\" | \"children\">>\n\nconst Modal = (props: ModalProps) => {\n  return (\n    <ModalPopup open={props.open} closeOnDocumentClick={props.backdrop} onClose={props.onClose}>\n      <ModalDialog>\n        <Header title={props.title} />\n        <Body content={props.content}>{props.children}</Body>\n        <Footer\n          confirmText={props.confirmText}\n          confirmButtonProps={props.confirmButtonProps}\n          cancelText={props.cancelText}\n          cancelButtonProps={props.cancelButtonProps}\n          onConfirm={props.onConfirm}\n          onCancel={props.onCancel}\n          onClose={props.onClose}\n        />\n      </ModalDialog>\n    </ModalPopup>\n  )\n}\n\nexport default Modal\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { ModalProps } from \"./Modal\"\n\nexport const getPopupRoot = () => {\n  let popupRoot = document.getElementById(\"popup-root\")\n  if (!popupRoot) {\n    popupRoot = document.createElement(\"div\")\n    popupRoot.setAttribute(\"id\", \"popup-root\")\n    document.body.appendChild(popupRoot)\n  }\n  return popupRoot\n}\n\nexport function open(Modal: React.FC<ModalProps>, config: ModalProps) {\n  const modalRoot = getPopupRoot()\n  const modalDiv = document.createElement(\"div\")\n  modalRoot.appendChild(modalDiv)\n\n  function bindClose(config: ModalProps) {\n    const { onConfirm, onCancel, onClose, ...theOtherConfig } = config\n    const bind = (fn?: () => void) =>\n      fn\n        ? () => {\n            typeof fn === \"function\" && fn()\n            close()\n          }\n        : close\n\n    return {\n      ...theOtherConfig,\n      onConfirm: bind(onConfirm),\n      onCancel: bind(onCancel),\n      onClose: bind(onClose),\n    }\n  }\n\n  function render(config: ModalProps) {\n    ReactDOM.render(<Modal {...bindClose(config)} />, modalDiv)\n  }\n\n  function update(newConfig: ModalProps) {\n    render({\n      ...config,\n      ...newConfig,\n      open: true,\n    })\n  }\n\n  function close() {\n    render({\n      ...config,\n      open: false,\n    })\n  }\n\n  render({\n    ...config,\n    open: true,\n  })\n\n  return {\n    destroy: close,\n    update,\n  }\n}\n\nexport function withAlert(config: ModalProps) {\n  return {\n    ...config,\n    cancelText: null,\n  }\n}\n\nexport function withConfirm(config: ModalProps) {\n  return {\n    ...config,\n    cancelText: config.cancelText,\n  }\n}\n","import ModalBase, { ModalProps } from \"./Modal\"\nimport CustomModal from \"./CustomModal\"\nimport ModalDialog from \"./ModalDialog\"\nimport ModalHeader from \"./ModalHeader\"\nimport ModalBody from \"./ModalBody\"\nimport ModalFooter from \"./ModalFooter\"\nimport { open, withAlert, withConfirm } from \"./withOpen\"\n\nexport type { ModalProps } from \"./Modal\"\nexport type { CustomModalProps } from \"./CustomModal\"\nexport type { ModalHeaderProps } from \"./ModalHeader\"\nexport type { ModalFooterProps } from \"./ModalFooter\"\n\nconst Modal = Object.assign(ModalBase, {\n  alert: (config: ModalProps) => open(ModalBase, withAlert(config)),\n  confirm: (config: ModalProps) => open(ModalBase, withConfirm(config)),\n  Dialog: ModalDialog,\n  Header: ModalHeader,\n  Body: ModalBody,\n  Footer: ModalFooter,\n})\n\nexport { CustomModal }\nexport default Modal\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Register_wrapper__Pr7XE\",\"title\":\"Register_title__HiLtJ\",\"subtitle\":\"Register_subtitle__N9Gm8\",\"actions\":\"Register_actions__eEmqA\"};","import * as Types from \"../../types/schema\"\n\nimport { gql } from \"@apollo/client\"\nimport * as Apollo from \"@apollo/client\"\nconst defaultOptions = {} as const\nexport type AddUserMutationVariables = Types.Exact<{\n  phone?: Types.InputMaybe<Types.Scalars[\"String\"]>\n  clientToken?: Types.InputMaybe<\n    Array<Types.InputMaybe<Types.Scalars[\"String\"]>> | Types.InputMaybe<Types.Scalars[\"String\"]>\n  >\n  name: Types.Scalars[\"String\"]\n}>\n\nexport type AddUserMutation = {\n  addUser?: { __typename: \"AddUserPayload\"; id?: string | null } | null\n}\n\nexport const AddUserDocument = gql`\n  mutation addUser($phone: String, $clientToken: [String], $name: String!) {\n    addUser(input: { phone: $phone, clientToken: $clientToken, name: $name }) {\n      id\n    }\n  }\n`\nexport type AddUserMutationFn = Apollo.MutationFunction<AddUserMutation, AddUserMutationVariables>\n\n/**\n * __useAddUserMutation__\n *\n * To run a mutation, you first call `useAddUserMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useAddUserMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [addUserMutation, { data, loading, error }] = useAddUserMutation({\n *   variables: {\n *      phone: // value for 'phone'\n *      clientToken: // value for 'clientToken'\n *      name: // value for 'name'\n *   },\n * });\n */\nexport function useAddUserMutation(\n  baseOptions?: Apollo.MutationHookOptions<AddUserMutation, AddUserMutationVariables>,\n) {\n  const options = { ...defaultOptions, ...baseOptions }\n  return Apollo.useMutation<AddUserMutation, AddUserMutationVariables>(AddUserDocument, options)\n}\nexport type AddUserMutationHookResult = ReturnType<typeof useAddUserMutation>\nexport type AddUserMutationResult = Apollo.MutationResult<AddUserMutation>\nexport type AddUserMutationOptions = Apollo.BaseMutationOptions<\n  AddUserMutation,\n  AddUserMutationVariables\n>\n","import { useEffect, useState } from \"react\"\nimport styled from \"./Register.module.scss\"\nimport Form from \"components/Form\"\nimport Button from \"components/Button\"\nimport Modal from \"components/Modal\"\nimport { useGo } from \"components/Router\"\nimport apolloClient from \"graphql/apolloClient\"\nimport * as FirebaseClient from \"firebaseClient\"\nimport { SubmitHandler, useForm } from \"react-hook-form\"\nimport { AddUserDocument } from \"graphql/queries/addUser.graphql.generated\"\nimport { setStorageValue, removeStorageValue } from \"hooks/useLocalStorage\"\n\ntype Inputs = {\n  account: string\n  password: string\n  name: string\n  phone: string\n}\n\nconst Register = () => {\n  const [openError, setOpenError] = useState(false)\n  const [openConfirm, setOpenConfirm] = useState(false)\n  const go = useGo()\n  const [countDown, setCountDown] = useState(30)\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      if (FirebaseClient.cachedUserCred.timeout) {\n        const ms = FirebaseClient.cachedUserCred.timeout - new Date().getTime()\n        setCountDown(ms > 0 ? Math.ceil(ms / 1000) : 0)\n      }\n    }, 1000)\n    return () => clearInterval(interval)\n  }, [FirebaseClient.cachedUserCred.timeout])\n\n  const { register, handleSubmit } = useForm<Inputs>({\n    mode: \"all\",\n  })\n\n  const onSubmit: SubmitHandler<Inputs> = info => {\n    FirebaseClient.register(info.account, info.password)\n      .then(async idToken => {\n        setStorageValue(\"customToken\", idToken)\n        try {\n          const { data } = await apolloClient.mutate({\n            mutation: AddUserDocument,\n            variables: {\n              phone: info.phone,\n              name: info.name,\n              clientToken: [\"firebase_client_device_token\"],\n            },\n          })\n          if (data?.addUser?.id) {\n            setOpenConfirm(true)\n          }\n        } finally {\n          removeStorageValue(\"customToken\")\n        }\n      })\n      .catch(() => {\n        setOpenError(true)\n      })\n  }\n\n  return (\n    <div className={styled.wrapper}>\n      <div className={styled.title}>註冊你的帳戶</div>\n      <div className={styled.subtitle}>歡迎加入！請輸入你的資料</div>\n      <Form onSubmit={handleSubmit(onSubmit)}>\n        <Form.Input type=\"text\" variant=\"gray\" placeholder=\"帳號\" {...register(\"account\")} />\n        <Form.Input type=\"password\" variant=\"gray\" placeholder=\"密碼\" {...register(\"password\")} />\n        <Form.Input type=\"text\" variant=\"gray\" placeholder=\"名稱\" {...register(\"name\")} />\n        <Form.Input type=\"text\" variant=\"gray\" placeholder=\"電話\" {...register(\"phone\")} />\n        <Button type=\"submit\" variant=\"primary\">\n          註冊\n        </Button>\n        <Modal\n          title=\"帳號已存在\"\n          open={openError}\n          confirmText=\"確定\"\n          onClose={() => setOpenError(false)}>\n          錯誤提示文字\n        </Modal>\n        <Modal\n          title=\"認證郵件已寄送\"\n          open={openConfirm}\n          confirmText={\"重新發送\" + (countDown ? `(${countDown})` : \"\")}\n          confirmButtonProps={{ disabled: !!countDown }}\n          cancelText=\"關閉\"\n          onConfirm={() => FirebaseClient.resendEmailVerification()}\n          onCancel={() => {\n            setOpenConfirm(false)\n            go.toSignIn()\n          }}>\n          請至信箱選取郵件，並點選確認按鈕\n        </Modal>\n      </Form>\n      <div className={styled.actions}>\n        <div />\n        <div onClick={go.toResendVerification}>重發驗證信</div>\n        <div>|</div>\n        <div onClick={go.toSignIn}>已有帳號</div>\n        <div />\n      </div>\n    </div>\n  )\n}\nexport default Register\n"],"names":["variant","className","selected","children","eventKey","onClick","props","cx","styled","style","e","open","backdrop","modal","nested","lockScroll","closeOnDocumentClick","closeOnEscape","onClose","contentStyle","background","border","width","overlayStyle","backgroundColor","title","content","cancelText","onCancel","cancelButtonProps","disabled","confirmText","onConfirm","confirmButtonProps","Modal","config","modalRoot","popupRoot","document","getElementById","createElement","setAttribute","body","appendChild","getPopupRoot","modalDiv","render","ReactDOM","theOtherConfig","bind","fn","close","bindClose","destroy","update","newConfig","Object","assign","ModalBase","alert","withAlert","confirm","withConfirm","Dialog","ModalDialog","Header","ModalHeader","Body","ModalBody","Footer","ModalFooter","AddUserDocument","gql","useState","openError","setOpenError","openConfirm","setOpenConfirm","go","useGo","countDown","setCountDown","useEffect","interval","setInterval","FirebaseClient","ms","Date","getTime","Math","ceil","clearInterval","useForm","mode","register","handleSubmit","Form","onSubmit","info","account","password","then","idToken","setStorageValue","apolloClient","mutation","variables","phone","name","clientToken","data","addUser","id","removeStorageValue","catch","type","placeholder","Button","toSignIn","toResendVerification"],"sourceRoot":""}